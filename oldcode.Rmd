---
title: "R Notebook"
output: html_notebook
---
Experiment code: not use
```{r}
findMatch<-function(D,vec)
{
  L<-length(D)
  inx<--1
  for(i in seq(L) ) 
  {
    if(sum(D[[i]]$name ==vec) ==length(vec))
    {
      inx<-i
      break;
    }
  }
  return(inx)
}
LHSinx<-2
RHSinx<-1
D<-VecAlignment(mat)
  L<-length(D)
  #P->Z
  markVec<-!logical(L)
  
  C1=C0=C11=C10=C01=C00=0
  for(i in seq(L) ) #For each unique binary nD[[i]] in nD
  {
    if(markVec[i]==TRUE)
    {
      vec1<-D[[i]]$name
      a11=a10=a01=a00=vec1
      
      a11[c(LHSinx,RHSinx)]<-c(1,1)
      a10[c(LHSinx,RHSinx)]<-c(1,0)
      a01[c(LHSinx,RHSinx)]<-c(0,1)
      a00[c(LHSinx,RHSinx)]<-c(0,0)
      
      i11<-findMatch(D,a11)
      i10<-findMatch(D,a10)
      i01<-findMatch(D,a01)
      i00<-findMatch(D,a00)
      
      markVec[i11]=markVec[i10]=markVec[i01]=markVec[i00]=FALSE
      c11=c10=c01=c00=0
      
      if(i11!=-1) 
        c11<-D[[i11]]$count
      if(i10!=-1) 
        c10<-D[[i10]]$count
      if(i01!=-1) 
      {
        c01<-D[[i01]]$count
      }
      if(i00!=-1) 
        c00<-D[[i00]]$count
      c1=c11+c10
      c0=c01+c00
      
      if(min(c1,c0)==0) 
        next
      diff1=abs(c1-c0)
      if(c1>c0)
      {
         c11=c11-floor(diff1/2)
         c10=c10-ceiling(diff1/2)
         c1=c1-diff1
      }
      else if(c1<c0)
      {
        c00=c00-floor(diff1/2)
        c01=c01-ceiling(diff1/2)
        c0=c0-diff1
      }
      
      C1=C1+c1
      C0=C0+c0
      C11=C11+c11
      C10=C10+c10
      C01=C01+c01
      C00=C00+c00
    }
    oddVal<- (C11+C00)/(C01+C10)
  }

 
```

